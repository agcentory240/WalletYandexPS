$(document).ready(function(){$('.header-search .btn-header-search').on('click',function(){url=$('base').attr('href')+'index.php?route=product/search';var search=$('.header-search input[name=\'search\']').val();if(search){url+='&search='+encodeURIComponent(search);}location=url;});$('.header-search input[name=\'search\']').on('keydown',function(e){if(e.keyCode==13){url=$('base').attr('href')+'index.php?route=product/search';var search=$('input[name=\'search\']').val();if(search){url+='&search='+encodeURIComponent(search);}location=url;}});$('#menu .dropdown-menu').each(function(){var menu=$('#menu').offset();var dropdown=$(this).parent().offset();var i=(dropdown.left+$(this).outerWidth())-(menu.left+$('#menu').outerWidth());if(i>0){$(this).css('margin-left','-'+(i+15)+'px');}});$(document).on('click','.dropdown-menu',function(e){$(this).hasClass('keep_open')&&e.stopPropagation();});$('.limit-btn-group .dropdown-menu').each(function(){var menu=$('.limit-btn-group').offset();var dropdown=$(this).parent().offset();var i=(dropdown.left+$(this).outerWidth())-(menu.left+$('.limit-btn-group').outerWidth());if(i>0){$(this).css('margin-left','-'+i+'px');}});$('#list-view').click(function(){$('#content .pos-5 > .products .product-layout > .clearfix, #content .pos-9 .products .product-layout > .clearfix').remove();$('#content .pos-5 > .products, #content .pos-9 .products').attr('class','row products product-list');$('#list-view').addClass('active');$('#grid-view').removeClass('active');localStorage.setItem('display','list');});$('#grid-view').click(function(){$('#content .pos-5 > .products .product-layout > .clearfix, #content .pos-9 .products .product-layout > .clearfix').remove();$('#content .pos-5 > .products, #content .pos-9 .products').attr('class','row products product-grid');$('#grid-view').addClass('active');$('#list-view').removeClass('active');localStorage.setItem('display','grid');});if(localStorage.getItem('display')=='list'){$('#list-view').trigger('click');$('#list-view').addClass('active');$('#grid-view').removeClass('active');}else if(localStorage.getItem('display')=='grid'){$('#grid-view').trigger('click');$('#grid-view').addClass('active');$('#list-view').removeClass('active');}if(!('ontouchstart'in window)){$('[data-toggle=\'tooltip\']').tooltip({container:'body'});$(document).ajaxStop(function(){$('[data-toggle=\'tooltip\']').tooltip({container:'body'});});}$('.success img, .warning img, .attention img, .information img').live('click',function(){$(this).parent().fadeOut('slow',function(){$(this).remove();});});$('div.description-expand a').click(function(){$(this).hide();$(this).parent().next('div.collapse').fadeIn('normal');return false;});});function getURLVar(key){var value=[];var query=String(document.location).split('?');if(query[1]){var part=query[1].split('&');for(i=0;i<part.length;i++){var data=part[i].split('=');if(data[0]&&data[1]){value[data[0]]=data[1];}}if(value[key]){return value[key];}else{return'';}}}function addToCart(product_id,quantity){quantity=typeof(quantity)!='undefined'?quantity:1;$.ajax({url:'index.php?route=checkout/cart/add',type:'post',data:'product_id='+product_id+'&quantity='+quantity,dataType:'json',success:function(json){$('.success, .warning, .attention, .information, .error').remove();if(json['redirect']){location=json['redirect'];}if(json['success']){ga('send','pageview','/AddToShoppingCart');ga('send','event','AddToCart','addtocart');$("#image-appendix").remove()
var wwidth = 550; if ($(window).width()<=767) wwidth=$(window).width()*0.9;$.colorbox({width:wwidth,close:"<button class='btn btn-default' type='button'><i class='fa fa-fw fa-times'></i></button>",onComplete:function(){if(navigator.appVersion.indexOf("MSIE 8.")!=-1){$("html, body").animate({scrollTop:0},'slow');};},html:"<h4 class='col-xs-12 text-center'>"+json['success']+"</h4><p class='text-center'><a href='"+link_checkout+"' class='btn btn-lg btn-primary'><i class='fa fa-fw fa-share'></i> <span>"+button_checkout+"</span></a></p><p class='text-center'><a onclick='$.colorbox.close()' class='btn btn-default'>"+button_shopping+"</a></p>",title:""});$('#cart').load('index.php?route=module/cart'+' #cart > *');}}});}function addToWishList(product_id){$.ajax({url:'index.php?route=account/wishlist/add',type:'post',data:'product_id='+product_id,dataType:'json',success:function(json){$('.success, .warning, .attention, .information').remove();$("#image-appendix").remove()
if(json['success']){ga('send','event','WishList','wishlist');$.colorbox({width:'550px',close:"<button class='btn btn-default' type='button'><i class='fa fa-fw fa-times'></i></button>",onComplete:function(){if(navigator.appVersion.indexOf("MSIE 8.")!=-1){$("html, body").animate({scrollTop:0},'slow');};},html:"<h4 class='col-xs-12 text-center'>"+json['success']+"</h4><p class='text-center'><a href='"+link_wishlist+"' class='btn btn-lg btn-primary'><i class='fa fa-fw fa-heart'></i> <span>"+text_wishlist+"</span></a></p><p class='text-center'><a onclick='$.colorbox.close()' class='btn btn-default'>"+button_shopping+"</a></p>",title:""});$('#wishlist-total').html(json['total']);}}});}function addToCompare(product_id){$.ajax({url:'index.php?route=product/compare/add',type:'post',data:'product_id='+product_id,dataType:'json',success:function(json){$('.success, .warning, .attention, .information').remove();if(json['success']){ga('send','event','Compare','compare');$("#image-appendix").remove()
$.colorbox({width:'550px',close:"<button class='btn btn-default' type='button'><i class='fa fa-fw fa-times'></i></button>",onComplete:function(){if(navigator.appVersion.indexOf("MSIE 8.")!=-1){$("html, body").animate({scrollTop:0},'slow');};},html:"<h4 class='col-xs-12 text-center'>"+json['success']+"</h4><p class='text-center'><a href='"+link_compare+"' class='btn btn-lg btn-primary'><i class='fa fa-fw fa-bar-chart-o'></i> <span>"+text_compare+"</span></a></p><p class='text-center'><a onclick='$.colorbox.close()' class='btn btn-default'>"+button_shopping+"</a></p>",title:""});$('#compare-total').html(json['total']);}}});}

$(document).ready(function(){$('#search input[name="search"]').autocomplete({source:function(request,response){$.ajax({url:"index.php?route=product/search_json",dataType:"json",data:{keyword:request.term},success:function(json){response($.map(json,function(item){return{label:item.name,price:item.price,special:item.special,value:item.href,isid:item.isid,img:item.thumb,description:item.description,attributes:item.attributes}}))}})},minLength:1,select:function(event,ui){if(ui.item.value=="")return false;else{location.href=ui.item.value;return false}},open:function(){$(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){$(this).removeClass("ui-corner-top").addClass("ui-corner-all")},focus:function(event,ui){$('#search input[name="filter_name"]').val(ui.item.label);return false}}).data("autocomplete")._renderItem=function(ul,item){var product_img=item.img?'<img src="'+item.img+'">':"";var product_price=item.special?'<span class="price-old">'+item.price+'</span><span class="price-new">'+item.special+"</span>":item.price;var description=item.description?'<div class="description">'+item.description+"</div>":"";var attributes=item.attributes?'<div class="attributes">'+item.attributes+"</div>":"";console.log(item.isid);if(Boolean(item.isid)==true){var idCls='color:red !important;';}else{idCls='';}return $("<li></li>").data("item.autocomplete",item).append('<a class="product-list"><div class="image">'+product_img+'</div><div class="name" style="'+idCls+'">'+item.label+'</div><div class="price">'+product_price+"</div>"+description+attributes+"</a>").appendTo(ul)}});
/* UItoTop jQuery Plugin 1.2 | Matt Varone | http://www.mattvarone.com/web-design/uitotop-jquery-plugin */
(function($){$.fn.UItoTop=function(options){var defaults={text:'<i class="fa fa-fw fa-chevron-up"></i>',min:200,inDelay:600,outDelay:400,containerID:'toTop',containerHoverID:'toTopHover',scrollSpeed:1200,easingType:'linear'},settings=$.extend(defaults,options),containerIDhash='#'+settings.containerID,containerHoverIDHash='#'+settings.containerHoverID;$('body').append('<a href="#" class="btn btn-lg btn-default" id="'+settings.containerID+'">'+settings.text+'</a>');$(containerIDhash).hide().on('click.UItoTop',function(){$('html, body').animate({scrollTop:0},settings.scrollSpeed,settings.easingType);$('#'+settings.containerHoverID,this).stop().animate({'opacity':0},settings.inDelay,settings.easingType);return false;}).prepend('<span id="'+settings.containerHoverID+'"></span>').hover(function(){$(containerHoverIDHash,this).stop().animate({'opacity':1},600,'linear');},function(){$(containerHoverIDHash,this).stop().animate({'opacity':0},700,'linear');});$(window).scroll(function(){var sd=$(window).scrollTop();if(typeof document.body.style.maxHeight==="undefined"){$(containerIDhash).css({'position':'absolute','top':sd+$(window).height()-50});}
if(sd>settings.min)
$(containerIDhash).fadeIn(settings.inDelay);else
$(containerIDhash).fadeOut(settings.Outdelay);});};})(jQuery);

$.fn.tabs = function() {
	var selector = this;
	
	this.each(function() {
		var obj = $(this); 
		
		$(obj.attr('href')).hide();
		
		obj.click(function() {
			$(selector).removeClass('selected');
			
			$(this).addClass('selected');
			
			$($(this).attr('href')).fadeIn();
			
			$(selector).not(this).each(function(i, element) {
				$($(element).attr('href')).hide();
			});
			
			return false;
		});
	});

	$(this).show();
	
	$(this).first().click();
};
(function($){$.fn.hoverIntent=function(handlerIn,handlerOut,selector){var cfg={interval:50,sensitivity:6,timeout:0};if(typeof handlerIn==="object"){cfg=$.extend(cfg,handlerIn)}else{if($.isFunction(handlerOut)){cfg=$.extend(cfg,{over:handlerIn,out:handlerOut,selector:selector})}else{cfg=$.extend(cfg,{over:handlerIn,out:handlerIn,selector:handlerOut})}}var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if(Math.sqrt((pX-cX)*(pX-cX)+(pY-cY)*(pY-cY))<cfg.sensitivity){$(ob).off("mousemove.hoverIntent",track);ob.hoverIntent_s=true;return cfg.over.apply(ob,[ev])}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=false;return cfg.out.apply(ob,[ev])};var handleHover=function(e){var ev=$.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t)}if(e.type==="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).on("mousemove.hoverIntent",track);if(!ob.hoverIntent_s){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}}else{$(ob).off("mousemove.hoverIntent",track);if(ob.hoverIntent_s){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob)},cfg.timeout)}}};return this.on({"mouseenter.hoverIntent":handleHover,"mouseleave.hoverIntent":handleHover},cfg.selector)}})(jQuery);
!function($,n,e){var o=$();$.fn.dropdownHover=function(e){return"ontouchstart"in document?this:(o=o.add(this.parent()),this.each(function(){function t(e){o.find(":focus").blur(),h.instantlyCloseOthers===!0&&o.removeClass("open"),n.clearTimeout(c),i.addClass("open"),r.trigger(a)}var r=$(this),i=r.parent(),d={delay:500,instantlyCloseOthers:!0},s={delay:$(this).data("delay"),instantlyCloseOthers:$(this).data("close-others")},a="show.bs.dropdown",u="hide.bs.dropdown",h=$.extend(!0,{},d,e,s),c;i.hoverIntent(function(n){return i.hasClass("open")||r.is(n.target)?void t(n):!0},function(){c=n.setTimeout(function(){i.removeClass("open"),r.trigger(u)},h.delay)}),r.hoverIntent(function(n){return i.hasClass("open")||i.is(n.target)?void t(n):!0}),i.find(".dropdown-submenu").each(function(){var e=$(this),o;e.hoverIntent(function(){n.clearTimeout(o),e.children(".dropdown-menu").show(),e.siblings().children(".dropdown-menu").hide()},function(){var t=e.children(".dropdown-menu");o=n.setTimeout(function(){t.hide()},h.delay)})})}))},$(document).ready(function(){$('[data-hover="dropdown"]').dropdownHover()})}(jQuery,this);
!function(a){a.fn.mmr_rating=function(){function b(b,c){var d=a(b).find("[data-value="+c+"]");d.removeClass("fa fa-2x fa-star-o").addClass("fa fa-2x fa-star"),d.prevAll("[data-value]").removeClass("fa fa-2x fa-star-o").addClass("fa fa-2x fa-star"),d.nextAll("[data-value]").removeClass("fa fa-2x fa-star").addClass("fa fa-2x fa-star-o")}function c(b){var c=a(b);c.find("[data-value]").removeClass("fa fa-2x fa-star").addClass("fa fa-2x fa-star-o")}function d(a,b){a.val(b).trigger("change"),b===a.data("empty-value")?a.siblings(".rating-clear").hide():a.siblings(".rating-clear").show()}var e;for(e=this.length-1;e>=0;e--){var f,g,h=a(this[e]),i=h.data("max")||5,j=h.data("min")||0,k=h.data("clearable")||null,l="";for(g=j;i>=g;g++)l+=['<span class="fa fa-2x fa-star-o" data-value="',g,'"></span>'].join("");k&&(l+=[' <a class="rating-clear" style="display:none;" href="javascript:void">','<span class="fa fa-2x fa-times"></span> ',k,"</a>"].join(""));var m=h.clone(!0).attr("type","hidden").data("max",i).data("min",j);f=['<div class="rating-input">',l,"</div>"].join(""),h.replaceWith(a(f).append(m))}a(".rating-input").on("mouseenter","[data-value]",function(){var c=a(this);b(c.closest(".rating-input"),c.data("value"))}).on("mouseleave","[data-value]",function(){var d=a(this),e=d.siblings("input"),f=e.val(),g=e.data("min"),h=e.data("max");f>=g&&h>=f?b(d.closest(".rating-input"),f):c(d.closest(".rating-input"))}).on("click","[data-value]",function(b){var c=a(this),e=c.data("value"),f=c.siblings("input");return d(f,e),b.preventDefault(),!1}).on("click",".rating-clear",function(b){var e=a(this),f=e.siblings("input");return d(f,f.data("empty-value")),c(e.closest(".rating-input")),b.preventDefault(),!1}).each(function(){var d=a(this).find("input"),e=d.val(),f=d.data("min"),g=d.data("max");""!==e&&+e>=f&&g>=+e?(b(this,e),a(this).find(".rating-clear").show()):(d.val(d.data("empty-value")),c(this))})},a(function(){a("input.mmr_rating[type=number]").length>0&&a("input.mmr_rating[type=number]").mmr_rating()})}(jQuery);